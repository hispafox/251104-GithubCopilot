<Window x:Class="DemoWpf.Views.TaskItemDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:DemoWpf.ViewModels"
    d:DataContext="{d:DesignInstance Type=vm:TaskItemDialogViewModel}"
mc:Ignorable="d"
        Title="{Binding DialogTitle}"
        Height="550" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="SingleBorderWindow">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
     <RowDefinition Height="Auto"/>
         <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
         <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
    <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,15">
  <TextBlock Text="Titulo de la tarea *" FontWeight="SemiBold" Margin="0,0,0,5"/>
         <TextBox Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}"
           MaxLength="200"
        Padding="8"
         FontSize="14"/>
     <TextBlock Text="{Binding Title.Length, StringFormat='{}{0}/200 caracteres'}"
    FontSize="11"
           Foreground="Gray"
       Margin="0,2,0,0"/>
        </StackPanel>

        <StackPanel Grid.Row="1" Margin="0,0,0,15">
    <TextBlock Text="Descripcion (opcional)" FontWeight="SemiBold" Margin="0,0,0,5"/>
 <TextBox Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
           MaxLength="1000"
               Height="100"
    Padding="8"
      TextWrapping="Wrap"
          AcceptsReturn="True"
    VerticalScrollBarVisibility="Auto"/>
     <TextBlock Text="{Binding Description.Length, StringFormat='{}{0}/1000 caracteres'}"
      FontSize="11"
     Foreground="Gray"
          Margin="0,2,0,0"/>
     </StackPanel>

        <Grid Grid.Row="2" Margin="0,0,0,15">
    <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
<ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>

       <StackPanel Grid.Column="0" Margin="0,0,10,0">
  <TextBlock Text="Prioridad" FontWeight="SemiBold" Margin="0,0,0,5"/>
                <ComboBox ItemsSource="{Binding PriorityOptions}"
    SelectedItem="{Binding Priority}"
        Padding="8"
    FontSize="14"/>
    </StackPanel>

            <StackPanel Grid.Column="1" Margin="10,0,0,0">
    <TextBlock Text="Estado" FontWeight="SemiBold" Margin="0,0,0,5"/>
     <ComboBox ItemsSource="{Binding StatusOptions}"
        SelectedItem="{Binding Status}"
         Padding="8"
    FontSize="14"/>
     </StackPanel>
        </Grid>

        <StackPanel Grid.Row="3" Margin="0,0,0,15">
 <TextBlock Text="Fecha de vencimiento (opcional)" FontWeight="SemiBold" Margin="0,0,0,5"/>
    <DatePicker SelectedDate="{Binding DueDate}"
                   Padding="8"
           FontSize="14"
           Margin="0,0,0,5"/>
       
    <WrapPanel Margin="0,5,0,0">
            <Button Content="Hoy"
   Command="{Binding SetDueDateTodayCommand}"
      Padding="10,5"
        Margin="0,0,5,0"
      Background="#5CB85C"
             Foreground="White"
     BorderThickness="0"
    Cursor="Hand"
        FontSize="12"/>
           <Button Content="Manana"
   Command="{Binding SetDueDateTomorrowCommand}"
         Padding="10,5"
    Margin="0,0,5,0"
   Background="#5BC0DE"
        Foreground="White"
               BorderThickness="0"
          Cursor="Hand"
           FontSize="12"/>
 <Button Content="En 1 semana"
          Command="{Binding SetDueDateNextWeekCommand}"
            Padding="10,5"
     Margin="0,0,5,0"
   Background="#F0AD4E"
              Foreground="White"
            BorderThickness="0"
   Cursor="Hand"
             FontSize="12"/>
          <Button Content="Limpiar"
   Command="{Binding ClearDueDateCommand}"
Padding="10,5"
      Background="#95A5A6"
    Foreground="White"
 BorderThickness="0"
            Cursor="Hand"
  FontSize="12"/>
            </WrapPanel>
        </StackPanel>

        <TextBlock Grid.Row="5"
   Text="{Binding ValidationMessage}"
             Foreground="Red"
        FontWeight="SemiBold"
   Margin="0,0,0,10"
                   TextWrapping="Wrap"/>

        <Grid Grid.Row="6"/>

 <StackPanel Grid.Row="7" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Cancelar"
  Command="{Binding CancelCommand}"
 CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
         Width="100"
          Height="35"
Margin="0,0,10,0"
        Background="#95A5A6"
            Foreground="White"
          BorderThickness="0"
  Cursor="Hand"/>
    <Button Content="Guardar"
         Command="{Binding SaveCommand}"
         CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
        Width="100"
          Height="35"
       Background="#5CB85C"
     Foreground="White"
    BorderThickness="0"
       Cursor="Hand"/>
     </StackPanel>
    </Grid>
</Window>
