<UserControl x:Class="DemoWpf.Views.TaskListManagementView"
     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:DemoWpf.ViewModels"
      d:DataContext="{d:DesignInstance Type=vm:TaskListManagementViewModel}"
        mc:Ignorable="d"
    d:DesignHeight="600" d:DesignWidth="1200">
    
    <Grid>
        <Grid.ColumnDefinitions>
   <ColumnDefinition Width="300"/>
     <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" 
     Background="#F8F9FA"
    BorderBrush="#DEE2E6"
       BorderThickness="0,0,1,0"
           Padding="15">
 <Grid>
     <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
         <RowDefinition Height="Auto"/>
  <RowDefinition Height="*"/>
   <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

<TextBlock Grid.Row="0" 
        Text="Mis Listas de Tareas" 
     FontSize="20" 
  FontWeight="Bold"
   Margin="0,0,0,15"/>

<Button Grid.Row="1"
        Content="Nueva Lista"
   Command="{Binding CreateTaskListCommand}"
    Padding="12"
    Margin="0,0,0,15"
    Background="#5CB85C"
      Foreground="White"
BorderThickness="0"
   Cursor="Hand"
     FontWeight="SemiBold"/>

         <ListBox Grid.Row="2"
        ItemsSource="{Binding TaskLists}"
  SelectedItem="{Binding SelectedTaskList}"
     BorderThickness="0"
        Background="Transparent"
      ScrollViewer.HorizontalScrollBarVisibility="Disabled">
     <ListBox.ItemContainerStyle>
          <Style TargetType="ListBoxItem">
       <Setter Property="Padding" Value="0"/>
        <Setter Property="Margin" Value="0,0,0,10"/>
    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
    </Style>
  </ListBox.ItemContainerStyle>
     <ListBox.ItemTemplate>
  <DataTemplate>
       <Border Background="White"
        Padding="15"
BorderBrush="{Binding ColorCode}"
  BorderThickness="0,0,0,3"
    CornerRadius="5"
Cursor="Hand">
       <Border.Effect>
         <DropShadowEffect BlurRadius="5" 
   ShadowDepth="2" 
        Opacity="0.2"/>
                </Border.Effect>
        <Grid>
   <Grid.RowDefinitions>
<RowDefinition Height="Auto"/>
<RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
   </Grid.RowDefinitions>

<TextBlock Grid.Row="0" 
    Text="{Binding Name}" 
         FontWeight="SemiBold"
      FontSize="14"
     TextWrapping="Wrap"/>

      <TextBlock Grid.Row="1" 
            Text="{Binding Description}" 
  FontSize="11" 
         Foreground="Gray"
  TextWrapping="Wrap"
   Margin="0,5,0,0"
    Visibility="{Binding Description, Converter={StaticResource StringToVisibilityConverter}}"/>

     <StackPanel Grid.Row="2" 
Orientation="Horizontal" 
       Margin="0,10,0,0">
    <TextBlock Text="{Binding CompletedTasksCount}" 
           FontWeight="Bold"
            Foreground="#5CB85C"/>
        <TextBlock Text="/" Margin="3,0"/>
    <TextBlock Text="{Binding TotalTasks}"/>
<TextBlock Text=" tareas completadas" 
   FontSize="11" 
     Foreground="Gray"
      Margin="5,0,0,0"/>
     </StackPanel>
        </Grid>
          </Border>
     </DataTemplate>
  </ListBox.ItemTemplate>
        </ListBox>

   <StackPanel Grid.Row="3" Margin="0,10,0,0">
<Button Content="Editar Lista"
  Command="{Binding EditTaskListCommand}"
         Padding="10"
       Margin="0,0,0,5"
      Background="#5BC0DE"
        Foreground="White"
        BorderThickness="0"
Cursor="Hand"/>
       <Button Content="Eliminar Lista"
  Command="{Binding DeleteTaskListCommand}"
    Padding="10"
  Margin="0,0,0,5"
   Background="#D9534F"
Foreground="White"
    BorderThickness="0"
      Cursor="Hand"/>
   <Button Content="Refrescar"
   Command="{Binding LoadTaskListsCommand}"
     Padding="10"
    Background="#95A5A6"
 Foreground="White"
  BorderThickness="0"
Cursor="Hand"/>
   </StackPanel>
        </Grid>
   </Border>

    <Grid Grid.Column="1" Margin="15">
     <Grid.RowDefinitions>
       <RowDefinition Height="Auto"/>
   <RowDefinition Height="*"/>
         <RowDefinition Height="Auto"/>
</Grid.RowDefinitions>

<TextBlock Grid.Row="0" 
       Text="{Binding SelectedTaskList.Name, FallbackValue='Selecciona una lista'}" 
                FontSize="24" 
        FontWeight="Bold"
    Margin="0,0,0,15"/>

   <ContentControl Grid.Row="1" 
         Content="{Binding SelectedTaskList}"/>

    <StatusBar Grid.Row="2" Margin="0,10,0,0">
   <StatusBarItem>
      <TextBlock Text="{Binding StatusMessage}"/>
      </StatusBarItem>
     </StatusBar>

        <TextBlock Grid.Row="1" 
     Text="Selecciona o crea una lista para comenzar" 
         FontSize="18" 
         Foreground="Gray"
      HorizontalAlignment="Center"
  VerticalAlignment="Center"
Visibility="{Binding SelectedTaskList, Converter={StaticResource NullToVisibilityConverter}}"/>
   </Grid>
    </Grid>
</UserControl>
