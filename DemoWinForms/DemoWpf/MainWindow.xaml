<Window x:Class="DemoWpf.MainWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="clr-namespace:DemoWpf.ViewModels"
      xmlns:views="clr-namespace:DemoWpf.Views"
     d:DataContext="{d:DesignInstance Type=vm:MainViewModel}"
        mc:Ignorable="d"
        Title="Sistema de Gestion de Tareas - Task Manager Pro"
        Height="800" Width="1400"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized">

    <Window.Resources>
        <!-- DataTemplate para TaskListManagementViewModel -->
<DataTemplate DataType="{x:Type vm:TaskListManagementViewModel}">
      <views:TaskListManagementView/>
    </DataTemplate>
        
        <!-- DataTemplate para TaskStatisticsViewModel -->
        <DataTemplate DataType="{x:Type vm:TaskStatisticsViewModel}">
     <views:TaskStatisticsView/>
  </DataTemplate>
    </Window.Resources>

    <Grid>
 <Grid.ColumnDefinitions>
       <ColumnDefinition Width="Auto"/>
         <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Menu lateral -->
        <Border Grid.Column="0" 
       Background="#2C3E50"
      Width="250">
  <Grid>
       <Grid.RowDefinitions>
    <RowDefinition Height="Auto"/>
     <RowDefinition Height="*"/>
     <RowDefinition Height="Auto"/>
     </Grid.RowDefinitions>

         <!-- Header con logo -->
    <Border Grid.Row="0" 
   Background="#34495E"
   Padding="20">
 <StackPanel>
       <TextBlock Text="Task Manager" 
   FontSize="22" 
        FontWeight="Bold"
          Foreground="White"
    HorizontalAlignment="Center"/>
    <TextBlock Text="Pro Edition" 
 FontSize="12" 
         Foreground="#BDC3C7"
           HorizontalAlignment="Center"
       Margin="0,5,0,0"/>
          </StackPanel>
     </Border>

             <!-- Menu items -->
     <StackPanel Grid.Row="1" Margin="0,20,0,0">
  
          <!-- Dashboard -->
  <Button Command="{Binding NavigateToStatisticsCommand}"
          Background="Transparent"
 BorderThickness="0"
      HorizontalContentAlignment="Stretch"
       Padding="20,15"
        Cursor="Hand">
<Button.Style>
     <Style TargetType="Button">
    <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
       <Setter Property="Cursor" Value="Hand"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver" Value="True">
      <Setter Property="Background" Value="#34495E"/>
    </Trigger>
    </Style.Triggers>
   </Style>
       </Button.Style>
    <StackPanel Orientation="Horizontal">
        <TextBlock Text="??" FontSize="20" Width="30"/>
  <TextBlock Text="Dashboard" 
     FontSize="14" 
     FontWeight="SemiBold"
     Foreground="White"
        VerticalAlignment="Center"
        Visibility="{Binding IsMenuOpen, Converter={StaticResource BooleanToVisibilityConverter}}"/>
   </StackPanel>
        </Button>

<!-- Mis Listas -->
<Button Command="{Binding NavigateToTaskListsCommand}"
           Background="Transparent"
    BorderThickness="0"
HorizontalContentAlignment="Stretch"
    Padding="20,15"
     Cursor="Hand">
<Button.Style>
        <Style TargetType="Button">
      <Setter Property="Background" Value="Transparent"/>
   <Setter Property="BorderThickness" Value="0"/>
       <Setter Property="Cursor" Value="Hand"/>
    <Style.Triggers>
 <Trigger Property="IsMouseOver" Value="True">
 <Setter Property="Background" Value="#34495E"/>
        </Trigger>
       </Style.Triggers>
    </Style>
    </Button.Style>
   <StackPanel Orientation="Horizontal">
<TextBlock Text="??" FontSize="20" Width="30"/>
      <TextBlock Text="Mis Listas" 
   FontSize="14" 
   FontWeight="SemiBold"
      Foreground="White"
     VerticalAlignment="Center"
        Visibility="{Binding IsMenuOpen, Converter={StaticResource BooleanToVisibilityConverter}}"/>
 </StackPanel>
            </Button>

     <Separator Background="#34495E" Margin="10,20"/>

        <!-- Refrescar -->
<Button Command="{Binding RefreshCurrentViewCommand}"
     Background="Transparent"
BorderThickness="0"
HorizontalContentAlignment="Stretch"
  Padding="20,15"
Cursor="Hand">
    <Button.Style>
        <Style TargetType="Button">
   <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
   <Setter Property="Cursor" Value="Hand"/>
        <Style.Triggers>
    <Trigger Property="IsMouseOver" Value="True">
      <Setter Property="Background" Value="#34495E"/>
      </Trigger>
    </Style.Triggers>
        </Style>
    </Button.Style>
<StackPanel Orientation="Horizontal">
  <TextBlock Text="??" FontSize="20" Width="30"/>
   <TextBlock Text="Refrescar" 
       FontSize="14" 
        FontWeight="SemiBold"
        Foreground="White"
     VerticalAlignment="Center"
        Visibility="{Binding IsMenuOpen, Converter={StaticResource BooleanToVisibilityConverter}}"/>
 </StackPanel>
      </Button>

  </StackPanel>

     <!-- Footer con toggle menu -->
<Border Grid.Row="2" 
           Background="#34495E"
         Padding="20,15">
     <Button Command="{Binding ToggleMenuCommand}"
       Background="Transparent"
        BorderThickness="0"
          HorizontalAlignment="Center"
       Cursor="Hand">
         <TextBlock Text="?" 
FontSize="24" 
   Foreground="White"/>
       </Button>
</Border>
         </Grid>
   </Border>

     <Grid Grid.Column="1">
   <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
       </Grid.RowDefinitions>

            <!-- Barra superior -->
       <Border Grid.Row="0" 
        Background="White"
    BorderBrush="#E0E0E0"
 BorderThickness="0,0,0,1"
   Padding="30,20">
     <Grid>
      <Grid.ColumnDefinitions>
   <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>

     <TextBlock Grid.Column="0"
      Text="{Binding CurrentViewTitle}" 
           FontSize="24" 
       FontWeight="Bold"
      Foreground="#2C3E50"
  VerticalAlignment="Center"/>

         <StackPanel Grid.Column="1" 
      Orientation="Horizontal">
    <TextBlock Text="Usuario: Admin" 
     FontSize="14" 
        VerticalAlignment="Center"
     Margin="0,0,20,0"
   Foreground="#7F8C8D"/>
  <Border Background="#E8F5E9"
  Padding="10,5"
           CornerRadius="15">
    <TextBlock Text="Sistema Activo" 
     FontSize="12"
     Foreground="#4CAF50"
    FontWeight="SemiBold"/>
          </Border>
       </StackPanel>
     </Grid>
     </Border>

 <ContentControl Grid.Row="1" 
   Content="{Binding CurrentViewModel}"
     Margin="20">
       <ContentControl.Resources>
          <Style TargetType="ContentControl">
        <Style.Triggers>
      <EventTrigger RoutedEvent="Loaded">
     <BeginStoryboard>
        <Storyboard>
 <DoubleAnimation Storyboard.TargetProperty="Opacity"
From="0" To="1" Duration="0:0:0.3"/>
</Storyboard>
     </BeginStoryboard>
       </EventTrigger>
       </Style.Triggers>
        </Style>
 </ContentControl.Resources>
     </ContentControl>
  </Grid>
    </Grid>
</Window>
